global BaseConocimientos
BaseConocimientos=['perro(ruffo).','perro(theo).','grande(ruffo).','perro_grande(X):-perro(ruffo),grande(X).'] #Lista que contiene la BC y le agregamos los built-in predicates.

def Inicio():
	consulta= raw_input(":::::")
	if BuscarUnificacion(HacerLista(consulta))==True:
		print("YES")
	else:
		print("NO")
	return Inicio()

def HacerLista(consulta):
	ListaConsulta=[]
	for i in range(0,len(consulta)): 
		if consulta[i] == '(' : 
			functor = consulta[:i]
			predicado= consulta[i+1:-2]
	parametros=predicado.split(",")
	ListaConsulta+=[functor]
	ListaConsulta+=[parametros]
	return ListaConsulta

def BuscarUnificacion(Consulta):
	for i in range(0,len(BaseConocimientos)):
		if EsRegla(BaseConocimientos[i])!=True:
			Conocimiento=HacerLista(BaseConocimientos[i])
			if Consulta[0]==Conocimiento[0] and len(Consulta[1])==len(Conocimiento[1]):
				if UnificacionArgumentos(Consulta[1],Conocimiento[1],len(Consulta[1]))==True:
					return True
		else:
			regla=BaseConocimientos[i]
			for j in range(0,len(regla)):  
				if (regla[j] == ':') and (regla[j+1] == '-'): 
					parametros = regla[j+2:]
					ListaRegla= HacerLista(regla[:j]+".")
					if ListaRegla[0]==Consulta[0] and len(Consulta[1])==len(ListaRegla[1]):
						parametroslista = parametros.split('),')
						for k in range(0,len(parametroslista)-1):
							parametroslista[k]+=")."
						print (parametroslista)
						for l in range(0,len(parametroslista)):
							if BuscarUnificacion(HacerLista(parametroslista[l])) == False:
								return False
						return True
	return False



def EsRegla(Consulta):
	for i in range(0, len(Consulta)):
		if Consulta[i] == ':' and Consulta[i+1] == '-':
			return True
	return False

##
def EsBuiltIn(Consulta):
	if Consulta=="nl":
		print
		return True
	elif Consulta=="fail":
		return False
	##else

def UnificacionArgumentos(argsconsulta, argshecho, cant_args):
	n = 0 
	while (n<=((cant_args)-1)):
		if esvariable(argsconsulta[n]) == True:  
			argsconsulta[n] = argshecho[n]
			n+=1 
		elif esvariable(argshecho[n]) == True:
			argshecho[n] = argsconsulta[n]
			n+=1 
		else: 
			if argsconsulta[n] == argshecho[n]: 
				n+=1 
			else: 
				return False 
	return True

def esvariable(dato):
	if dato.islower() == True:
		return False 
	else: 
		return True
			

Inicio()
